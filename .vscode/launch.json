{
    "version": "0.2.0",
    "configurations": [
        
        {
            "type": "lldb",
            "request": "launch",
            "name": "Debug current file",
            // Bevy specific: for app in debug mode
            // "program": "${workspaceFolder}/target/debug/${fileBasenameNoExtension}",
            "program": "${workspaceFolder}/target/debug/videotargets.exe",
            "args": [],
            "cwd": "${workspaceFolder}",
            "sourceMap": {},
            "env": {},
            "stopOnEntry": false,
            "console": "internalConsole",
            "initCommands": [
                // Optional: If you have issues with backtraces or symbols, you might need these
                // "settings set target.exit-on-script-error false",
                // "b main", // Break at main, useful for complex setups
            ],
            "preLaunchTask": "Rust: cargo build" // Or "cargo build --all-targets"
        },
        {
            "type": "lldb",
            "request": "launch",
            "name": "Debug executable",
            "program": "${workspaceFolder}/target/debug/videotargets.exe",
            "args": [],
            "cwd": "${workspaceFolder}",
            "sourceMap": {},
              "env": {
                "LD_LIBRARY_PATH": "${workspaceFolder}/target/debug/deps:${userHome}/.rustup/toolchains/stable-x86_64-pc-windows-gnu/lib"
            },
            "stopOnEntry": true,
            "console": "internalConsole",
            "preLaunchTask": "Rust: cargo build" 
            },
        {
            "type": "lldb",
            "request": "launch",
            "name": "Debug test",
            "program": "${workspaceFolder}/target/debug/${workspaceFolderBasename}",
            "args": [],
            "cwd": "${workspaceFolder}",
            "sourceMap": {},
            "env": {},
            "stopOnEntry": false,
            "console": "internalConsole",
            "preLaunchTask": "Rust: cargo test" // Change to cargo test
        },
        // Add configurations for specific binaries in src/bin/
        {
            "type": "lldb",
            "request": "launch",
            "name": "Debug bin: my_cli_tool", // Name it something descriptive
            "program": "${workspaceFolder}/target/debug/my_cli_tool", // Replace my_cli_tool with your bin name
            "args": [],
            "cwd": "${workspaceFolder}",
            "sourceMap": {},
            "env": {},
            "stopOnEntry": false,
            "console": "internalConsole",
            "preLaunchTask": "Rust: cargo build --bin my_cli_tool" // Build only this bin
        }
    ]
}